# å¥—ä»¶ç®¡ç†å™¨é…ç½®èªªæ˜

## ğŸ“¦ ä½¿ç”¨ npm ä½œç‚ºå¥—ä»¶ç®¡ç†å™¨

æœ¬å°ˆæ¡ˆä½¿ç”¨ **npm** ä½œç‚ºå”¯ä¸€çš„å¥—ä»¶ç®¡ç†å™¨ï¼Œä»¥é¿å…æ··åˆå¥—ä»¶ç®¡ç†å™¨å°è‡´çš„å•é¡Œã€‚

## âš ï¸ é‡è¦æé†’

### ä¸è¦æ··åˆä½¿ç”¨å¥—ä»¶ç®¡ç†å™¨

- âœ… **ä½¿ç”¨**: `npm install`
- âŒ **é¿å…**: `yarn install` æˆ– `pnpm install`

### ç‚ºä»€éº¼é¸æ“‡ npmï¼Ÿ

1. **ç©©å®šæ€§**: npm æ˜¯ Node.js çš„å®˜æ–¹å¥—ä»¶ç®¡ç†å™¨
2. **å…¼å®¹æ€§**: èˆ‡å¤§å¤šæ•¸éƒ¨ç½²å¹³å°ï¼ˆå¦‚ Render.comï¼‰å®Œç¾å…¼å®¹
3. **ä¸€è‡´æ€§**: é¿å…æ··åˆå¥—ä»¶ç®¡ç†å™¨çš„è­¦å‘Šå’Œå•é¡Œ

## ğŸ”§ é…ç½®æª”æ¡ˆ

### .npmrc
```ini
# æ˜ç¢ºæŒ‡å®šä½¿ç”¨ npm
package-lock=true
save-exact=true

# é¿å…æ··åˆå¥—ä»¶ç®¡ç†å™¨è­¦å‘Š
legacy-peer-deps=true

# è¨­å®š registry
registry=https://registry.npmjs.org/
```

### .gitignore
```gitignore
# Package manager - Using npm (keep package-lock.json, ignore yarn.lock)
yarn.lock
.pnp.*
```

## ğŸš€ å®‰è£å’Œå»ºç½®

### æœ¬åœ°é–‹ç™¼
```bash
# å®‰è£ä¾è³´
npm install

# å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
npm start
```

### ç”Ÿç”¢å»ºç½®
```bash
# ä½¿ç”¨å»ºç½®è…³æœ¬
./build.sh

# æˆ–æ‰‹å‹•å»ºç½®
cd client && npm run build && cd ..
```

### éƒ¨ç½²
```bash
# ä½¿ç”¨éƒ¨ç½²è…³æœ¬
./deploy.sh

# æˆ–å¿«é€Ÿéƒ¨ç½²
./quick-deploy.sh
```

## ğŸ“‹ å¸¸ç”¨å‘½ä»¤

### å®‰è£ä¾è³´
```bash
# æ ¹ç›®éŒ„
npm install

# å‰ç«¯
cd client && npm install && cd ..

# å¾Œç«¯
cd server && npm install && cd ..
```

### æ›´æ–°ä¾è³´
```bash
# æª¢æŸ¥éæœŸå¥—ä»¶
npm outdated

# æ›´æ–°å¥—ä»¶
npm update

# æ›´æ–°ç‰¹å®šå¥—ä»¶
npm install package-name@latest
```

### æ¸…ç†å¿«å–
```bash
# æ¸…ç† npm å¿«å–
npm cache clean --force

# åˆªé™¤ node_modules ä¸¦é‡æ–°å®‰è£
rm -rf node_modules package-lock.json
npm install
```

## ğŸ” æ•…éšœæ’é™¤

### æ··åˆå¥—ä»¶ç®¡ç†å™¨è­¦å‘Š

**å•é¡Œ**: æ”¶åˆ°é—œæ–¼æ··åˆå¥—ä»¶ç®¡ç†å™¨çš„è­¦å‘Š

**è§£æ±ºæ–¹æ¡ˆ**:
1. ç¢ºä¿åªä½¿ç”¨ npm
2. åˆªé™¤ä»»ä½• `yarn.lock` æª”æ¡ˆ
3. ä½¿ç”¨ `npm install` é‡æ–°å®‰è£

### ä¾è³´è¡çª

**å•é¡Œ**: ä¾è³´ç‰ˆæœ¬è¡çª

**è§£æ±ºæ–¹æ¡ˆ**:
```bash
# ä½¿ç”¨ legacy peer deps
npm install --legacy-peer-deps

# æˆ–æ¸…ç†ä¸¦é‡æ–°å®‰è£
rm -rf node_modules package-lock.json
npm install
```

### å»ºç½®å¤±æ•—

**å•é¡Œ**: å»ºç½®éç¨‹ä¸­å‡ºç¾éŒ¯èª¤

**è§£æ±ºæ–¹æ¡ˆ**:
1. æª¢æŸ¥ Node.js ç‰ˆæœ¬
2. æ¸…ç†å¿«å–ä¸¦é‡æ–°å®‰è£
3. æª¢æŸ¥ `.npmrc` é…ç½®

## ğŸ“Š æœ€ä½³å¯¦è¸

### 1. ç‰ˆæœ¬æ§åˆ¶
- ä¿ç•™ `package-lock.json` æª”æ¡ˆ
- ä¸è¦æäº¤ `node_modules` ç›®éŒ„
- å®šæœŸæ›´æ–°ä¾è³´

### 2. å®‰å…¨æ€§
- å®šæœŸåŸ·è¡Œ `npm audit`
- åŠæ™‚ä¿®å¾©å®‰å…¨æ¼æ´
- ä½¿ç”¨å¯ä¿¡çš„å¥—ä»¶ä¾†æº

### 3. æ€§èƒ½å„ªåŒ–
- ä½¿ç”¨ `npm ci` é€²è¡Œ CI/CD
- å®šæœŸæ¸…ç†å¿«å–
- ç›£æ§å¥—ä»¶å¤§å°

## ğŸ”„ é·ç§»æŒ‡å—

### å¾ Yarn é·ç§»åˆ° npm

å¦‚æœæ‚¨ä¹‹å‰ä½¿ç”¨ Yarnï¼š

1. **åˆªé™¤ Yarn æª”æ¡ˆ**
   ```bash
   rm yarn.lock
   rm -rf node_modules
   ```

2. **ä½¿ç”¨ npm é‡æ–°å®‰è£**
   ```bash
   npm install
   ```

3. **æ›´æ–°è…³æœ¬**
   - å°‡ `yarn` å‘½ä»¤æ›¿æ›ç‚º `npm`
   - æ›´æ–° CI/CD é…ç½®

### å¾ pnpm é·ç§»åˆ° npm

å¦‚æœæ‚¨ä¹‹å‰ä½¿ç”¨ pnpmï¼š

1. **åˆªé™¤ pnpm æª”æ¡ˆ**
   ```bash
   rm pnpm-lock.yaml
   rm -rf node_modules
   ```

2. **ä½¿ç”¨ npm é‡æ–°å®‰è£**
   ```bash
   npm install
   ```

## ğŸ“ æ”¯æ´

å¦‚æœé‡åˆ°å¥—ä»¶ç®¡ç†å™¨ç›¸é—œå•é¡Œï¼š

1. **æª¢æŸ¥ npm ç‰ˆæœ¬**: `npm --version`
2. **æª¢æŸ¥ Node.js ç‰ˆæœ¬**: `node --version`
3. **æŸ¥çœ‹ npm æ–‡æª”**: https://docs.npmjs.com/
4. **æª¢æŸ¥å°ˆæ¡ˆé…ç½®**: ç¢ºä¿ `.npmrc` æ­£ç¢ºè¨­å®š

## ğŸ”„ æ›´æ–°æ—¥èªŒ

### v2.2.0 - å¥—ä»¶ç®¡ç†å™¨çµ±ä¸€
- âœ… çµ±ä¸€ä½¿ç”¨ npm ä½œç‚ºå¥—ä»¶ç®¡ç†å™¨
- âœ… æ–°å¢ .npmrc é…ç½®æª”æ¡ˆ
- âœ… æ›´æ–° .gitignore å¿½ç•¥ yarn.lock
- âœ… æ”¹å–„å»ºç½®è…³æœ¬é¿å…æ··åˆå¥—ä»¶ç®¡ç†å™¨è­¦å‘Š
- âœ… æ–°å¢å¥—ä»¶ç®¡ç†å™¨é…ç½®èªªæ˜æ–‡ä»¶ 